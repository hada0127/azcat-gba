# 난이도 곡선 & 등급 시스템

## 고양이 수 (v_cat_qty) 테이블

```c
// score → active cat count
static const u8 cat_qty_table[] = {
//  score_threshold, cat_qty
    0,   0,
    1,   1,
    2,   2,
    5,   3,
    20,  4,
    30,  5,
    80,  6,
    150, 8,
    220, 10,
    250, 11,
    280, 12,
    350, 13,
    450, 14,
    500, 17,
    550, 19,
    600, 21,
    650, 23,
    750, 25,
    850, 28,
    900, 30,
    960, 35,
    1010, 40,
    1020, 41,
    1030, 42,
    1040, 43,  // MAX
};
```

### 고양이 수 요약

| 점수 구간 | 고양이 수 |
|-----------|----------|
| 0~1 | 0 |
| 1~2 | 1 |
| 2~5 | 2 |
| 5~20 | 3 |
| 20~30 | 4 |
| 30~80 | 5 |
| 80~150 | 6 |
| 150~220 | 8 |
| 220~500 | 10~14 (점진 증가) |
| 500~550 | 17 |
| 550~600 | 19 |
| 600~650 | 21 |
| 650~750 | 23 |
| 750~850 | 25 |
| 850~900 | 28 |
| 900~960 | 30 |
| 960~1010 | 35 |
| 1010~1040 | 40~42 |
| 1040+ | 43 (최대) |

## 낙하 속도 (v_cat_accel) 테이블

```c
// score → cat fall acceleration
static const u8 cat_accel_table[] = {
//  score_threshold, v_cat_accel
    0,    1,
    10,   2,
    50,   3,
    100,  4,
    200,  5,
    240,  6,
    280,  7,
    360,  8,
    400,  9,
    450,  10,
    700,  11,
    800,  12,
    920,  13,
    940,  14,
    980,  16,
    990,  17,  // MAX
};
```

## 배경 전환

| 점수 | 배경 | 상수명 |
|------|------|--------|
| 0~499 | 낮 (기본) | `BG_DAY` |
| 500~899 | 밤 | `BG_NIGHT` |
| 900+ | 매트릭스 | `BG_MATRIX` |

```c
#define BG_THRESHOLD_NIGHT  500
#define BG_THRESHOLD_MATRIX 900
```

## 등급 시스템

게임오버 시 점수 기반 등급 부여.

```c
typedef struct {
    u16 min_score;
    u16 max_score;
    const char* code;    // 내부 코드
    // 등급명은 비트맵 이미지로 표시
} Grade;
```

| 등급 코드 | 점수 범위 | 등급명 |
|-----------|-----------|--------|
| g10 | 0~9 | 10급 해상 |
| g9 | 10~19 | 9급 |
| g8 | 20~29 | 8급 성게 |
| g7 | 30~39 | 7급 |
| g6 | 40~49 | 6급 |
| g5 | 50~59 | 5급 |
| g4 | 60~69 | 4급 소령 |
| g3 | 70~79 | 3급 |
| g2 | 80~89 | 2급 |
| g1 | 90~99 | 1급 점복 |
| d1 | 100~199 | 초단 |
| d2 | 200~299 | 2단 |
| d3 | 300~399 | 3단 |
| d4 | 400~499 | 4단 소령 |
| d5 | 500~599 | 5단 |
| d6 | 600~699 | 6단 |
| d7 | 700~799 | 7단 |
| d8 | 800~899 | 8단 |
| d9 | 900~999 | 9단 |
| d10 | 1000~2999 | 10단 대왕 |
| d100 | 3000+ | 최고 등급 |

### 등급 판정 코드 (참고)

```c
const Grade grade_table[] = {
    {0,    10,   "g10"},
    {10,   20,   "g9"},
    {20,   30,   "g8"},
    {30,   40,   "g7"},
    {40,   50,   "g6"},
    {50,   60,   "g5"},
    {60,   70,   "g4"},
    {70,   80,   "g3"},
    {80,   90,   "g2"},
    {90,   100,  "g1"},
    {100,  200,  "d1"},
    {200,  300,  "d2"},
    {300,  400,  "d3"},
    {400,  500,  "d4"},
    {500,  600,  "d5"},
    {600,  700,  "d6"},
    {700,  800,  "d7"},
    {800,  900,  "d8"},
    {900,  1000, "d9"},
    {1000, 3000, "d10"},
    {3000, 65535,"d100"},
};
#define GRADE_COUNT 21
```
